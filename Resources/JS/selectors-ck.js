/* - *///-- Variable Declarations  -- //
var initHTML,initiated,scenario,curScreen,fvd,lg;$(function(){if(!initiated){console.log("Init");initHTML=$(document.body).html();initiated=!0}loadIdle();curScreen=0});$("#attractLoop").click(function(e){$("#attractLoop").tween({opacity:{start:100,stop:0,time:0,duration:.4,effect:"easeInOut",onStop:function(){$(".scenarioSelectBtn").each(function(e,t){$(this).tween({opacity:{start:0,stop:100,time:e/2-.35*e,duration:.25,effect:"easeInOut"},transform:{start:"rotate(0deg) scale( 0.1 )",stop:"rotate(720deg) scale( 1 )",time:e/2-.35*e,duration:1,effect:"elasticOut"}}).play()})}}}).play();$("#attractLoop").slideUp(500)});$(".scenarioSelectBtn").click(function(e){scenario=$(this).attr("category");curScreen=1;$("#screenContainer").tween({opacity:{start:100,stop:0,time:0,duration:.5,effect:"sineOut"},onStop:function(e){$("#scenarioSelect").remove();$(".title").remove();loadScenario()}}).play()});var bindNextBtn=function(){$(".nextBtn").click(function(e){console.log("NEXT Clicked");curScreen++;curScreen==4?hardReset():loadScenario()})},initGraph=function(){switch(scenario){case"savings":lg=new savingsGraph("#chart",fvd);break;case"couch":lg=new savingsGraph("#chart",fvd);break;case"car":lg=new carGraph("#chart",fvd)}},hardReset=function(){$(document.body).empty().append(initHTML)},loadIdle=function(){$("#loadIdle").tween({fontSize:{start:100,stop:110,time:0,duration:.5,units:"px",effect:"cubicIn"},onStop:function(e){$("#loadIdle").tween({fontSize:{start:110,stop:100,time:0,duration:.5,units:"px",effect:"cubicOut"},onStop:function(e){loadIdle()}}).play()}}).play()},loadScenario=function(){switch(scenario){case"couch":$("#screenContainer").load("couch.html #couch_screen"+curScreen,function(){console.log("LOAD COUCH.HTML");animateScenario();if(curScreen==1)$("#screenContainer").addClass("couch1");else if(curScreen==2){$("#screenContainer").removeClass("couch1");$("#screenContainer").addClass("couch2")}else if(curScreen==3){$("#screenContainer").removeClass("couch2");$("#screenContainer").addClass("couch3")}});break;case"car":$("#screenContainer").load("car.html #car_screen"+curScreen,function(){console.log("LOAD CAR.HTML");animateScenario();if(curScreen==1)$("#screenContainer").addClass("car1");else if(curScreen==2){$("#screenContainer").removeClass("car1");$("#screenContainer").addClass("car2")}else if(curScreen==3){$("#screenContainer").removeClass("car2");$("#screenContainer").addClass("car3")}});break;case"savings":$("#screenContainer").load("saving.html #saving_screen"+curScreen,function(){console.log("LOAD SAVING.HTML");animateScenario();if(curScreen==1)$("#screenContainer").addClass("save1");else if(curScreen==2){$("#screenContainer").removeClass("save1");$("#screenContainer").addClass("save2")}else if(curScreen==3){$("#screenContainer").removeClass("save2");$("#screenContainer").addClass("save3")}});break;case"lottery":}},animateScenario=function(){if(curScreen==3){initGraph();var e=$(".nextBtn .done").length;e--;$(".nextBtn .done").each(function(t,n){$(this).tween({opacity:{start:0,stop:100,time:parseInt($(this).attr("time")),duration:.5,effect:"sineOut"},onStop:function(n){t==e&&bindNextBtn()}}).play()})}if(curScreen==1){$("#screenContainer").tween({opacity:{start:0,stop:100,time:0,duration:.5,effect:"sineOut"}}).play();$(".comicImg").tween({opacity:{start:0,stop:100,time:0,duration:.5,effect:"sineOut"},height:{start:0,stop:768,time:0,units:"px",duration:.5,effect:"sineOut"},top:{start:1025,stop:0,time:0,units:"px",duration:.5,effect:"sineOut"}})}else if(curScreen==2){$(".fadeImg").tween({opacity:{start:100,stop:0,time:0,duration:1,effect:"sineOut"}}).play();$(".comicImg").tween({opacity:{start:0,stop:100,time:0,duration:1,effect:"sineOut"},height:{start:768,stop:768,time:0,units:"px",duration:0,effect:"sineOut"},top:{start:0,stop:0,time:0,units:"px",duration:0,effect:"sineOut"}})}$(".circleText").each(function(e,t){$(this).tween({opacity:{start:0,stop:100,time:parseInt($(this).attr("time")),duration:.25,effect:"easeInOut"},transform:{start:"rotate(0deg) scale( 0.1 )",stop:"rotate(720deg) scale( 1 )",time:parseInt($(this).attr("time")),duration:1,effect:"elasticOut"}}).play()});$(".dialog").each(function(e,t){var n=$(this),r=getTargetAnim(n);console.log("anim.timing");console.log(r.timing);$(this).css("top",r.top+"px");$(this).tween({left:{start:1280,stop:r.left,time:parseInt(r.timing),units:"px",duration:.5,effect:"sineOut"},onStop:function(e){}}).play()});var e=$(".nextBtn").length;e--;$(".nextBtn").each(function(t,n){$(this).tween({opacity:{start:0,stop:100,time:parseInt($(this).attr("time")),duration:.5,effect:"sineOut"},onStop:function(n){t==e&&bindNextBtn()}}).play()})},getTargetAnim=function(e){var t=e.attr("anim");return JSON.parse(t)};